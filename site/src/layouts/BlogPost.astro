---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage, tags } = Astro.props;
---

<Layout title={title} description={description}>
	<article class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
		<!-- Hero Image -->
		{heroImage && (
			<div class="mb-8">
				<Image 
					width={1020} 
					height={510} 
					src={heroImage} 
					alt={title}
					class="w-full rounded-lg border border-gray-200"
				/>
			</div>
		)}
		
		<!-- Article Header -->
		<header class="mb-12 text-center">
			<div class="mb-4">
				<FormattedDate date={pubDate} />
				{updatedDate && (
					<div class="text-sm text-gray-500 mt-1">
						Last updated on <FormattedDate date={updatedDate} />
					</div>
				)}
			</div>
			<h1 class="text-4xl md:text-5xl font-bold mb-6 text-black leading-tight">
				{title}
			</h1>
			
			<!-- Tags -->
			{tags && tags.length > 0 && (
				<div class="flex flex-wrap justify-center gap-2 mb-6">
					{tags.map((tag) => (
						<a 
							href={`/posts/tag/${tag}`}
							class="px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-gray-200 transition-colors"
						>
							{tag}
						</a>
					))}
				</div>
			)}
			
			<hr class="border-gray-300" />
		</header>
		
		<!-- Article Content -->
		<div class="prose prose-lg max-w-none text-gray-700">
			<slot />
		</div>
		
		<!-- Back to Posts -->
		<div class="mt-12 pt-8 border-t border-gray-200 text-center">
			<a 
				href="/posts"
				class="inline-flex items-center px-6 py-3 text-black hover:text-gray-700 transition-colors border border-gray-300 hover:border-gray-400"
			>
				‚Üê Back to Posts
			</a>
		</div>
	</article>
</Layout>
